user  nginx;
worker_processes  auto;

error_log  /var/log/nginx/error.log notice;
pid        /var/run/nginx.pid;


events {
    worker_connections  1024;
}


http {
    server {
        listen 80;
        listen [::]:80;
        server_name web-server;

        location / {
            # root는 해당되는 location의 url이 더해져, nginx에서 찾을 static file의 경로를 만듭니다.
            # 예로들어 요청 url이 /webserver/me.json이면, /static_files/webserver/me.json의 경로를 만듭니다.
            # nginx document - https://nginx.org/en/docs/http/ngx_http_core_module.html#root
            root /static_files;

            # index는 해당 location의 뒤 경로에 static file이 없을때, 응답하는 static file을 정의합니다.
            # 예로들어 요청 url이 /이면 /static_files/index.html을 응답합니다.
            # nginx document - https://nginx.org/en/docs/http/ngx_http_index_module.html#index
            index index.html;

            # try_files는 정의한 static file을 왼쪽부터 찾아 해당되면, 응답합니다.
            # https://nginx.org/en/docs/http/ngx_http_core_module.html#try_files
            # $uri access_log에 찍어보기(root 경로가 합쳐지는지 궁금)
            try_files $uri /index.html;
        }
    }
}
